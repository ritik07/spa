{"ast":null,"code":"import { __spreadArrays } from \"tslib\";\nimport values from './values';\nimport memoize from './memoize';\nimport isString from './is-string';\nvar ctx;\n/**\n * 计算文本的宽度\n */\nexport default memoize(function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n  var fontSize = font.fontSize,\n    fontFamily = font.fontFamily,\n    fontWeight = font.fontWeight,\n    fontStyle = font.fontStyle,\n    fontVariant = font.fontVariant;\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n  ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ');\n  return ctx.measureText(isString(text) ? text : '').width;\n}, function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n  return __spreadArrays([text], values(font)).join('');\n});","map":{"version":3,"sources":["../src/measure-text-width.ts"],"names":[],"mappings":";AAAA,OAAO,MAAM,MAAM,UAAU;AAC7B,OAAO,OAAO,MAAM,WAAW;AAC/B,OAAO,QAAQ,MAAM,aAAa;AAOlC,IAAI,GAA6B;AAEjC;;AAEG;AACH,eAAe,OAAO,CACpB,UAAC,IAAS,EAAE,IAAe,EAAA;EAAf,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;IAAA,IAAA,GAAA,CAAA,CAAe;EAAA;EACjB,IAAA,QAAQ,GAAqD,IAAI,CAAA,QAAzD;IAAE,UAAU,GAAyC,IAAI,CAAA,UAA7C;IAAE,UAAU,GAA6B,IAAI,CAAA,UAAjC;IAAE,SAAS,GAAkB,IAAI,CAAA,SAAtB;IAAE,WAAW,GAAK,IAAI,CAAA,WAAT;EAChE,IAAI,CAAC,GAAG,EAAE;IACR,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,IAAI,CAA6B;EACpF;EACD,GAAI,CAAC,IAAI,GAAG,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,EAAK,QAAQ,GAAA,IAAI,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;EACvF,OAAO,GAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,KAAK;AAC3D,CAAC,EACD,UAAC,IAAS,EAAE,IAAe,EAAA;EAAf,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;IAAA,IAAA,GAAA,CAAA,CAAe;EAAA;EAAK,OAAA,cAAA,CAAA,CAAC,IAAI,CAAA,EAAK,MAAM,CAAC,IAAI,CAAC,CAAA,CAAE,IAAI,CAAC,EAAE,CAAC;AAAhC,CAAgC,CACjE","sourceRoot":"","sourcesContent":["import { __spreadArrays } from \"tslib\";\nimport values from './values';\nimport memoize from './memoize';\nimport isString from './is-string';\nvar ctx;\n/**\n * 计算文本的宽度\n */\nexport default memoize(function (text, font) {\n    if (font === void 0) { font = {}; }\n    var fontSize = font.fontSize, fontFamily = font.fontFamily, fontWeight = font.fontWeight, fontStyle = font.fontStyle, fontVariant = font.fontVariant;\n    if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n    }\n    ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ');\n    return ctx.measureText(isString(text) ? text : '').width;\n}, function (text, font) {\n    if (font === void 0) { font = {}; }\n    return __spreadArrays([text], values(font)).join('');\n});\n//# sourceMappingURL=measure-text-width.js.map"]},"metadata":{},"sourceType":"module"}