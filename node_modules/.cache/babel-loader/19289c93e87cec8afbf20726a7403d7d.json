{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */function (_super) {\n  __extends(ImageAnnotation, _super);\n  function ImageAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  ImageAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'image',\n      locationType: 'region',\n      start: null,\n      end: null,\n      src: null,\n      style: {}\n    });\n  };\n  ImageAnnotation.prototype.renderInner = function (group) {\n    this.renderImage(group);\n  };\n  ImageAnnotation.prototype.getImageAttrs = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    var style = this.get('style');\n    var bbox = regionToBBox({\n      start: start,\n      end: end\n    });\n    var src = this.get('src');\n    return __assign({\n      x: bbox.x,\n      y: bbox.y,\n      img: src,\n      width: bbox.width,\n      height: bbox.height\n    }, style);\n  };\n  // 绘制图片\n  ImageAnnotation.prototype.renderImage = function (group) {\n    this.addShape(group, {\n      type: 'image',\n      id: this.getElementId('image'),\n      name: 'annotation-image',\n      attrs: this.getImageAttrs()\n    });\n  };\n  return ImageAnnotation;\n}(GroupComponent);\nexport default ImageAnnotation;","map":{"version":3,"sources":["../../src/annotation/image.ts"],"names":[],"mappings":";AACA,OAAO,cAAc,MAAM,6BAA6B;AAGxD,SAAS,YAAY,QAAQ,cAAc;AAE3C,IAAA,eAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA8B,SAAA,CAAA,eAAA,EAAA,MAAA,CAAA;EAA9B,SAAA,eAAA,GAAA;;EAiDA;EAhDE;;;;AAIG;EACI,eAAA,CAAA,SAAA,CAAA,aAAa,GAApB,YAAA;IACE,IAAM,GAAG,GAAG,MAAA,CAAA,SAAA,CAAM,aAAa,CAAA,IAAA,CAAA,IAAA,CAAE;IACjC,OAAA,QAAA,CAAA,QAAA,CAAA,CAAA,CAAA,EACK,GAAG,CAAA,EAAA;MACN,IAAI,EAAE,YAAY;MAClB,IAAI,EAAE,OAAO;MACb,YAAY,EAAE,QAAQ;MACtB,KAAK,EAAE,IAAI;MACX,GAAG,EAAE,IAAI;MACT,GAAG,EAAE,IAAI;MACT,KAAK,EAAE,CAAA;IAAE,CAAA,CAAA;EAEb,CAAC;EAEM,eAAA,CAAA,SAAA,CAAA,WAAW,GAAlB,UAAmB,KAAa,EAAA;IAC9B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;EACzB,CAAC;EAEO,eAAA,CAAA,SAAA,CAAA,aAAa,GAArB,YAAA;IACE,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;IAC3B,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAM,IAAI,GAAG,YAAY,CAAC;MAAE,KAAK,EAAA,KAAA;MAAE,GAAG,EAAA;IAAA,CAAE,CAAC;IACzC,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;IAC3B,OAAA,QAAA,CAAA;MACE,CAAC,EAAE,IAAI,CAAC,CAAC;MACT,CAAC,EAAE,IAAI,CAAC,CAAC;MACT,GAAG,EAAE,GAAG;MACR,KAAK,EAAE,IAAI,CAAC,KAAK;MACjB,MAAM,EAAE,IAAI,CAAC;IAAM,CAAA,EAChB,KAAK,CAAA;EAEZ,CAAC;EAED;EACQ,eAAA,CAAA,SAAA,CAAA,WAAW,GAAnB,UAAoB,KAAa,EAAA;IAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;MACnB,IAAI,EAAE,OAAO;MACb,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;MAC9B,IAAI,EAAE,kBAAkB;MACxB,KAAK,EAAE,IAAI,CAAC,aAAa;KAC1B,CAAC;EACJ,CAAC;EACH,OAAA,eAAC;AAAD,CAAC,CAjD6B,cAAc,CAAA;AAmD5C,eAAe,eAAe","sourceRoot":"","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */ (function (_super) {\n    __extends(ImageAnnotation, _super);\n    function ImageAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    ImageAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'image', locationType: 'region', start: null, end: null, src: null, style: {} });\n    };\n    ImageAnnotation.prototype.renderInner = function (group) {\n        this.renderImage(group);\n    };\n    ImageAnnotation.prototype.getImageAttrs = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        var src = this.get('src');\n        return __assign({ x: bbox.x, y: bbox.y, img: src, width: bbox.width, height: bbox.height }, style);\n    };\n    // 绘制图片\n    ImageAnnotation.prototype.renderImage = function (group) {\n        this.addShape(group, {\n            type: 'image',\n            id: this.getElementId('image'),\n            name: 'annotation-image',\n            attrs: this.getImageAttrs(),\n        });\n    };\n    return ImageAnnotation;\n}(GroupComponent));\nexport default ImageAnnotation;\n//# sourceMappingURL=image.js.map"]},"metadata":{},"sourceType":"module"}