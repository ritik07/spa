{"ast":null,"code":"import { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n  var div;\n  if (snapType === 'ceil') {\n    div = Math.ceil(v / base);\n  } else if (snapType === 'floor') {\n    div = Math.floor(v / base);\n  } else {\n    div = Math.round(v / base);\n  }\n  return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n  // 变成 interval 的倍数\n  var minTick = snapMultiple(min, interval, 'floor');\n  var maxTick = snapMultiple(max, interval, 'ceil');\n  // 统一小数位数\n  minTick = fixedBase(minTick, interval);\n  maxTick = fixedBase(maxTick, interval);\n  var ticks = [];\n  // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\n  var availableInterval = Math.max((maxTick - minTick) / (Math.pow(2, 12) - 1), interval);\n  for (var i = minTick; i <= maxTick; i = i + availableInterval) {\n    var tickValue = fixedBase(i, availableInterval); // 防止浮点数加法出现问题\n    ticks.push(tickValue);\n  }\n  return {\n    min: minTick,\n    max: maxTick,\n    ticks: ticks\n  };\n}","map":{"version":3,"sources":["../../src/util/interval.ts"],"names":[],"mappings":"AACA,SAAS,SAAS,QAAQ,YAAY;AAEtC,SAAS,YAAY,CAAC,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAA;EACrC,IAAI,GAAG;EACP,IAAI,QAAQ,KAAK,MAAM,EAAE;IACvB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;GAC1B,MAAM,IAAI,QAAQ,KAAK,OAAO,EAAE;IAC/B,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;GAC3B,MAAM;IACL,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;EAC3B;EACD,OAAO,GAAG,GAAG,IAAI;AACnB;AAEA,eAAc,SAAU,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAA;EACtD;EACA,IAAI,OAAO,GAAG,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,CAAC;EAClD,IAAI,OAAO,GAAG,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,CAAC;EACjD;EACA,OAAO,GAAG,SAAS,CAAC,OAAO,EAAE,QAAQ,CAAC;EACtC,OAAO,GAAG,SAAS,CAAC,OAAO,EAAE,QAAQ,CAAC;EACtC,IAAM,KAAK,GAAG,EAAE;EAChB;EACA,IAAM,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,OAAO,KAAK,IAAA,CAAA,GAAA,CAAA,CAAC,EAAI,EAAE,CAAA,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC;EACjF,KAAK,IAAI,CAAC,GAAG,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,GAAG,CAAC,GAAG,iBAAiB,EAAE;IAC7D,IAAM,SAAS,GAAG,SAAS,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,CAAC;IACnD,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;EACtB;EACD,OAAO;IACL,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,KAAK,EAAA;GACN;AACH","sourceRoot":"","sourcesContent":["import { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n    var div;\n    if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n    }\n    else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n    }\n    else {\n        div = Math.round(v / base);\n    }\n    return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n    // 变成 interval 的倍数\n    var minTick = snapMultiple(min, interval, 'floor');\n    var maxTick = snapMultiple(max, interval, 'ceil');\n    // 统一小数位数\n    minTick = fixedBase(minTick, interval);\n    maxTick = fixedBase(maxTick, interval);\n    var ticks = [];\n    // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\n    var availableInterval = Math.max((maxTick - minTick) / (Math.pow(2, 12) - 1), interval);\n    for (var i = minTick; i <= maxTick; i = i + availableInterval) {\n        var tickValue = fixedBase(i, availableInterval); // 防止浮点数加法出现问题\n        ticks.push(tickValue);\n    }\n    return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n    };\n}\n//# sourceMappingURL=interval.js.map"]},"metadata":{},"sourceType":"module"}