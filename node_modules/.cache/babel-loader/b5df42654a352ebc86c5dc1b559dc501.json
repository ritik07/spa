{"ast":null,"code":"import { assign } from '@antv/util';\n/**\n * Action 的基类\n */\nvar Action = /** @class */function () {\n  function Action(context, cfg) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n  /**\n   * 设置配置项传入的值\n   * @param cfg\n   */\n  Action.prototype.applyCfg = function (cfg) {\n    assign(this, cfg);\n  };\n  /**\n   * Inits action，提供给子类用于继承\n   */\n  Action.prototype.init = function () {\n    this.applyCfg(this.cfg);\n  };\n  /**\n   * Destroys action\n   */\n  Action.prototype.destroy = function () {\n    // 移除 action\n    this.context.removeAction(this);\n    // 清空\n    this.context = null;\n  };\n  return Action;\n}();\nexport default Action;","map":{"version":3,"sources":["../../../src/interaction/action/base.ts"],"names":[],"mappings":"AAAA,SAAS,MAAM,QAAQ,YAAY;AAGnC;;AAEG;AACH,IAAA,MAAA,GAAA,aAAA,YAAA;EAUE,SAAA,MAAA,CAAY,OAA4B,EAAE,GAAO,EAAA;IAC/C,IAAI,CAAC,OAAO,GAAG,OAAO;IACtB,IAAI,CAAC,GAAG,GAAG,GAAG;IACd,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;EACzB;EAEA;;;AAGG;EACO,MAAA,CAAA,SAAA,CAAA,QAAQ,GAAlB,UAAmB,GAAG,EAAA;IACpB,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;EACnB,CAAC;EAED;;AAEG;EACI,MAAA,CAAA,SAAA,CAAA,IAAI,GAAX,YAAA;IACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC;EACzB,CAAC;EAED;;AAEG;EACI,MAAA,CAAA,SAAA,CAAA,OAAO,GAAd,YAAA;IACE;IACA,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC;IAC/B;IACA,IAAI,CAAC,OAAO,GAAG,IAAI;EACrB,CAAC;EACH,OAAA,MAAC;AAAD,CAAC,EAAA;AAED,eAAe,MAAM","sourcesContent":["import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action 的基类\n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action 名字 */\n  public name;\n  /** 上下文对象 */\n  public context: IInteractionContext;\n  /** Action 配置 */\n  protected cfg: T;\n  /** 配置项的字段，自动负值到 this 上 */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * 设置配置项传入的值\n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action，提供给子类用于继承\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    // 移除 action\n    this.context.removeAction(this);\n    // 清空\n    this.context = null;\n  }\n}\n\nexport default Action;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}